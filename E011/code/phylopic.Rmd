---
title: "animal_silhouettes"
author: "Julian Flowers"
date: "23/01/2022"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(rphylopic)
library(magick)
```

## Using `rphylopic`

```{r}
gf <- name_search("Corvus corone", options = "namebankID")[1,]
str(gf)

id <- name_images(uuid = gf$uid)

id

uid <- id$uid


cat <- rphylopic::image_data(input = id$same[[1]]$uid, size = "thumb")

cat[[1]]

get_image <- function(search, size){
  require(magick)
  require(rphylopic)
  
  ## get uid
  
  im <- name_search(search, options = "namebankID")[1,]
  id <- name_images(uuid = im$uid[1])
  uid <- id$supertaxa[[1]]$uid
  
  img <- paste0("http://phylopic.org/assets/images/submissions/", uid, ".", size, ".png") %>%
    image_read()
  
  img 
  
}

g <- get_image(search = "Streptopelia decaocto", 128)

g
```

